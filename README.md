# Machine translation using LLM
## Paper
Project based on **A Paradigm Shift in Machine Translation: Boosting Translation Performance of Large Language Models**, *H. Xu, Y. J. Kim, A. Sharaf, H. H. Awadalla*,  2024

## Organisation of the repository
- Notebooks are organized following a numbering and an explicit title.
  - In notebook 01 are presented the tools of the evaluation pipeline (generation, pipeline, plots) and the different models evaluated in the benchmark. We plot the evaluated metrics.
  - In notebook 02 we finetune Llama3.2-3B quantized in 4bit using LoRA according to the double-stage finetuning pipeline introduces by Xu et al.
  - In notebook 03 and 04 we define and evaluate the in-context learning and RAG pipelines respectively.
  - In notebook 05 we evaluate the model finetuned in notebook 02.
- The `rag_retrieval_index` folder contains the index of most similar sentences according to BERT embeddings. Each file contains a list of lists of indexes. There is one list per sentence in the dataset, for the direction considered (order is the same than in the original dataset). Each list contains dataset's sentences indexes of the closest sentences (by decreasing order, highest similarities are first indexes).
- The `generated_translations` folder contains the diverse translations generated by the experiments. The name of the file precise the model and context. Each file contain a list of string, each element is a translation. By using the adapted function, sources sentences and target translations can be recovered in the same order.
- The `evaluations` folder contains the different evaluated metrics values per experiment. Each file is a dictionnary:
    ```
    {
        <metric_name>: {
            "mean_score": float,
            "std_score": float,
            "std_unbias_score": float,
            "scores": [list of float scores]
        }
    }
    ```
- The `results` folder contains the different figures, tables and the personnal finetuned model checkpoint.
- The `utils` folder contains the source files, imported in the notebooks.
